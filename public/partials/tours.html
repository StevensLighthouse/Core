<div class="page-header">
    <h1>My Tours</h1>
</div>
<div class="row">
    <div class="col-xs-6">
        <table class="table table-striped table-bordered table-hover">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Description</th>
                    <th>Stops</th>
                    <th class="center">Manage</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="tour in tours">
                    <td>
                        <a href="#/tours/{{ tour.id }}">{{ tour.name }}</a>
                    </td>
                    <td>{{ tour.description }}</td>
                    <td>{{ tour.stops.length }}</td>
                    <td class="center">
                        <a class="blue" href="#/tours/edit/{{ tour.id }}">
                            <i class="icon-edit bigger-120"></i>
                        </a>
                        <a href="javascript:void(0)" class="red" ng-click="deleteTour(tour)">
                            <i class="icon-trash bigger-120"></i>
                        </a>
                        <a href="javascript:void(0)" class="blue" ng-click="centerOnTour(tour)">
                            <i class="icon-globe bigger-130"></i>
                        </a>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <google-map ng-if="loaded" class="col-sm-6" center='map.center' zoom='map.zoom' draggable="true" options="{ mapTypeControl: false }">
        <marker ng-repeat="tour in tours" coords='{ latitude: tour.lat, longitude: tour.lon }' icon="tour.stops[0].categories[0].icon_base64">
            <window>
                <div class="infowindow">
                    <h5>{{ tour.name }}</h5>
                    <p>{{ tour.description }}</p>
                </div>
            </window>
        </marker>
    </google-map>
</div>
